imports:
  - jobs.yaml
  - orchestration.yaml

parameters:
  daipeproject:
    datalake:
      base_path: '/%kernel.environment%'
    checkpoint:
      dir: 'dbfs:/tmp/checkpoints'
    export:
      clickhouse:
        host:
        port:
      bins:
        lower_percentile_percentage: 0.05
        higher_percentile_percentage: 0.95
        bin_count: 8
        accuracy: 100

  featurestorebundle:
    db_name: 'jv_feature_store'
    base_path: 'dbfs:/path/to/feature_store'
    entities:
      client:
        id_column: "client_id"
        id_column_type: "string"
    feature:
      backend: 'delta_table'
    metadata:
      backend: 'delta_table'
    target:
      backend: 'delta_table'

    widgets:
      defaults:
        timestamp: "2022-01-01"
        target_date_from: "2000-01-01"
        target_date_to: "2022-01-01"
        target_time_shift: "-5d"
    time_windows: ["14d", "30d", "90d"]

  datalakebundle:
    table:
      name_template: '%kernel.environment%_{identifier}'
      defaults:
        base_path: '%daipeproject.datalake.base_path%'
        target_path: !expr 'base_path + "/" + db_identifier + "/" + table_identifier + ".delta"'
        
  p360_export:
    config:
      connection_string_getter: 'dbutils_secrets'
      dbutils_secrets_scope: 'unit-kv'
      azure_storage_config_base_path: 'abfss://configs@odapczlakeg2test.dfs.core.windows.net'
      config_getter: 'azure_storage'
    facebook:
      access_token_key: jv-fb-access-token
      ad_account_id: 'act_383271040067293'
    sfmc:
      client_id: 'efkwk3u07xl83ftdsuu0mo1m'
      client_secret_key: jv-sfmc-client-secret
      ftp_username: '510003196_5'
      ftp_password_key: jv-sfmc-ftp-password
      tenant_url: 'mcvgt52qhm-lj19fv4nfmrv6pdn1'
      account_id: '510003196'
      file_location: 'jv-demo'
